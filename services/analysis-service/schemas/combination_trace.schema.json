{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "combination_trace",
  "type": "array",
  "items": {
    "type": "object",
    "additionalProperties": false,
    "required": ["reason", "target", "moved_ratio", "weight", "order", "policy_signature"],
    "properties": {
      "reason": {
        "type": "string",
        "enum": ["sanhe", "liuhe", "stem_combo", "clash"]
      },
      "target": {
        "type": "string",
        "enum": ["wood", "fire", "earth", "metal", "water"]
      },
      "moved_ratio": {
        "type": "number"
      },
      "weight": {
        "type": "number"
      },
      "order": {
        "type": "integer",
        "minimum": 1
      },
      "policy_signature": {
        "type": "string",
        "pattern": "^[0-9a-f]{64}$"
      }
    }
  }
}
