# 포스텔러 vs 우리 시스템 비교 분석 보고서

**Date:** 2025-10-11 KST
**Test Case:** 1963-12-13 20:30 Seoul (남자)
**사주:** 癸卯 甲子 庚寅 丙戌

---

## 비교 결과 요약

| 항목 | 포스텔러 | 우리 시스템 | 일치 여부 |
|------|----------|-------------|-----------|
| **사주 기둥** | 癸卯 甲子 庚寅 丙戌 | 癸卯 甲子 庚寅 丙戌 | ✅ 동일 |
| **대운 시작** | 2세 | 1.88세 | ✅ 근사 |
| **대운 방향** | 역행 | backward | ✅ 동일 |
| **강약 등급** | 태약 (16.82%) | 신약 (15.0점) | ⚠️ 다름 |
| **오행 분포** | 목37.5% 수25% 화12.5% 토12.5% 금12.5% | 목33.3% 수25% 화16.7% 토8.3% 금16.7% | ❌ 다름 |
| **용신** | 화(조후) + 금(억부) | 토 | ❌ 완전히 다름 |
| **12운성** | 쇠/절/사/태 | ❌ 미구현 | ❌ 없음 |
| **신살** | 10개 | ✅ 구현됨 | 🟡 비교 필요 |

---

## 1. 사주 기둥 ✅

**포스텔러:**
- 年柱: 癸卯
- 月柱: 甲子
- 日柱: 庚寅 (일주)
- 時柱: 丙戌

**우리:**
- 年柱: 癸卯
- 月柱: 甲子
- 日柱: 庚寅
- 時柱: 丙戌

**결론:** ✅ **완전히 동일**

---

## 2. 대운 (Major Luck Cycle) ✅

### 대운 시작 나이

**포스텔러:**
- 대운수: 2세
- 첫 대운: 갑자 계해

**우리:**
- 대운수: 1.8813세
- 방향: backward (역행)
- 이전 절기: 大雪
- 계산: 5.6439일 ÷ 3 = 1.88세

**차이:** ~0.12세 (약 1.5개월)

**원인:**
- 절기 데이터 정밀도 차이
- 반올림 방식 차이
- LMT 계산 미세 차이

**결론:** ✅ **로직은 동일, 데이터 정밀도 차이만**

### 대운 방향

**포스텔러:** 역행 (음년+남자)
**우리:** backward (음년+남자)

**결론:** ✅ **완전히 동일**

---

## 3. 강약 등급 ⚠️

### 포스텔러 분석

**등급:** "태약" (太弱)
**백분위:** 16.82%의 사람들이 여기 해당

**포스텔러 등급 체계 (추정):**
```
득령: 월지 기준
득지: 지지 뿌리
득시: 시간 요소
득세: 천간 투출
```

**결과:** 태약 (가장 약한 등급)

### 우리 시스템 분석

**등급:** 신약 (身弱)
**점수:** 15.0점

**우리 등급 체계:**
```
극신강: 80~100
신강:   60~79
중화:   40~59
신약:   20~39  ← 15점이 여기
극신약: 0~19
```

### 문제점 발견

**15점은 실제로 "극신약" 범위 (0~19)에 더 가까움!**

포스텔러의 "태약"과 우리의 "극신약"이 같은 개념일 가능성 높음.

**버킷 판정 오류 가능성:**
- 우리 시스템이 15점을 "신약"으로 분류
- 실제로는 "극신약"이 맞음

**결론:** ⚠️ **등급 체계는 다르지만 의미상 유사 (태약 ≈ 극신약)**

---

## 4. 오행 분포 ❌

### 포스텔러 (합+조후+궁성 보정 적용)

```
목(木)  37.5%  과다
수(水)  25.0%  발달
화(火)  12.5%  적정
토(土)  12.5%  적정
금(金)  12.5%  적정
```

**특징:**
- "합에 따른 오행 변화 적용"
- "조후와 궁성 보정값 적용"
- 실질적 세력 반영

### 우리 (순수 천간/지지 개수 비율)

```
목(木)  33.3%
수(水)  25.0%
화(火)  16.7%
토(土)   8.3%
금(金)  16.7%
```

**특징:**
- 천간 4개 (weight: 1.0)
- 지지 4개 (weight: 0.5)
- 단순 비율 계산

### 차이 분석

| 오행 | 포스텔러 | 우리 | 차이 | 원인 추정 |
|------|----------|------|------|-----------|
| 목 | 37.5% | 33.3% | **+4.2%p** | 寅卯 방합 보정? 甲木 투출 가중? |
| 수 | 25.0% | 25.0% | 0.0%p | 동일 |
| 화 | 12.5% | 16.7% | **-4.2%p** | 조후 보정 (겨울+火 약화)? |
| 토 | 12.5% | 8.3% | **+4.2%p** | 궁성 보정 (지지 토 중요도)? |
| 금 | 12.5% | 16.7% | **-4.2%p** | 합화 보정 (금→목 변환)? |

**결론:** ❌ **계산 방법론이 완전히 다름**
- 포스텔러: 합+조후+궁성 보정 적용
- 우리: 순수 개수 비율

---

## 5. 용신 ❌❌❌

### 포스텔러 (이원화 접근)

**조후용신(調候用神):** 화(火)
- 목적: 계절 조화
- 논리: 겨울(子月) + 庚金 → 차가움 → 火로 온난화 필요

**억부용신(抑扶用神):** 금(金)
- 목적: 강약 조절
- 논리: 태약 → 扶(돕기) 필요 → 庚金 도우려면 金 필요

**특징:**
- 조후와 억부를 **분리**하여 제시
- 둘 다 용신으로 사용
- 전통 사주학의 정통 방식

### 우리 (통합 접근)

**용신:** 토(土)
**보조신:** 금, 목
**기신:** 화, 수

**특징:**
- YongshinSelector가 **통합** 점수로 하나만 선택
- 조후+억부를 종합 평가
- 토가 가장 높은 점수

### 왜 이렇게 다를까?

**포스텔러 논리 (전통):**
```
1. 조후용신 우선:
   - 겨울 + 庚金 → 火 필요 (온난화)

2. 억부용신 차순:
   - 태약 → 金 필요 (같은 오행으로 돕기)

3. 결과: 火 + 金 둘 다 용신
```

**우리 논리 (통합):**
```
1. YongshinSelector 통합 점수:
   - 신약(15점) + 겨울 + 庚金
   - Base preference: 인성(土) + 비겁(金)
   - 조후 고려 포함

2. 최종 점수:
   - 土: 가장 높음 (인성 = 생我)
   - 金: 두 번째
   - 火: 낮음 (기신으로 분류)

3. 결과: 土 단독 용신
```

### 핵심 차이점

| 측면 | 포스텔러 | 우리 |
|------|----------|------|
| **철학** | 조후 + 억부 분리 | 조후 + 억부 통합 |
| **우선순위** | 조후 > 억부 | 종합 점수 |
| **결과 개수** | 2개 (火 + 金) | 1개 (土) |
| **전통성** | ✅ 더 전통적 | 🟡 현대적 해석 |

**결론:** ❌ **완전히 다른 방법론**
- 포스텔러: 전통적 이원화 접근
- 우리: 현대적 통합 접근

---

## 6. 십성 분포 (비교 필요)

### 포스텔러

```
정재(正財)  12.5%
편재(偏財)  25.0%
편관(偏官)  12.5%
편인(偏印)  12.5%
비견(比肩)  12.5%
상관(傷官)  25.0%
```

**특징:**
- 십성별 퍼센트 표시
- 정관, 정인, 겁재, 식신은 0%

### 우리

**구현:** ✅ TenGodsCalculator 있음
**비교:** 🟡 실제 출력 값 확인 필요

---

## 7. 12운성 ❌

### 포스텔러

**각 기둥별 12운성:**
```
시주(丙戌): 쇠
일주(庚寅): 절
월주(甲子): 사
년주(癸卯): 태
```

### 우리

**상태:** ❌ **미구현**
- 정책 파일 존재: `lifecycle_stages.json`
- 엔진 미통합: AnalysisEngine에 없음

**결론:** ❌ **구현 필요**

---

## 8. 신살 🟡

### 포스텔러

```
도화살, 현침살, 관귀학관, 태극귀인, 역마살,
백호대살, 금여성, 홍염살, 화개살, 천문성
```

**총 10개**

### 우리

**구현:** ✅ ShenshaCatalog 있음
**정책:** `shensha_v2_policy.json` 사용
**비교:** 🟡 실제 출력과 비교 필요

---

## 9. 대운/연운/월운 표

### 포스텔러

**대운 표:**
```
2세:  갑자 계해 (상관/식신)
12세: 임술 (식신/편인)
22세: 신유 (겁재/비견)
...
```

**연운 표:** 1964~1973년 상세
**월운 표:** 12개월 상세

### 우리

**대운:** ✅ 시작 나이 계산됨
**연운/월운:** ❌ 미구현

---

## 핵심 차이점 요약

### 1. 오행 분포 계산 방식

| 포스텔러 | 우리 |
|----------|------|
| 합+조후+궁성 보정 | 순수 개수 비율 |
| 실질적 세력 반영 | 단순 계산 |
| 목37.5% 토12.5% | 목33.3% 토8.3% |

### 2. 용신 선택 철학

| 포스텔러 | 우리 |
|----------|------|
| 조후용신 + 억부용신 분리 | 통합 용신 선택 |
| 火(조후) + 金(억부) | 土(통합) |
| 전통적 이원화 | 현대적 단일화 |

### 3. 강약 등급 표현

| 포스텔러 | 우리 |
|----------|------|
| 태약 (16.82%) | 신약 (15.0점) |
| 백분위 표시 | 점수 표시 |
| 5단계 추정 | 5단계 확정 |

### 4. 미구현 기능

| 기능 | 포스텔러 | 우리 |
|------|----------|------|
| 12운성 | ✅ 있음 | ❌ 없음 |
| 연운/월운 | ✅ 있음 | ❌ 없음 |
| 합화 보정 | ✅ 적용 | 🟡 부분 |
| 조후 보정 | ✅ 적용 | ❌ 없음 |
| 궁성 보정 | ✅ 적용 | ❌ 없음 |

---

## 결론

### ✅ 일치하는 부분

1. **사주 기둥 계산** - 완전히 동일
2. **대운 방향** - 역행 로직 동일
3. **대운 시작 나이** - 로직 동일 (데이터 정밀도만 차이)

### ❌ 차이나는 부분

1. **오행 분포** - 계산 방법론 완전히 다름
2. **용신 선택** - 철학적 접근이 다름 (이원화 vs 통합)
3. **강약 등급** - 표현 방식 다름 (백분위 vs 점수)

### 📋 미구현 부분

1. **12운성** - 정책 파일만 있고 엔진 없음
2. **연운/월운** - 미구현
3. **오행 보정** - 합화는 부분 구현, 조후/궁성은 없음

---

## 다음 단계 제안

### 우선순위 1: 용신 로직 검토
- YongshinSelector가 조후+억부 통합 접근 사용
- 전통적 이원화 방식과의 철학적 차이
- **결정 필요:** 통합 유지 vs 이원화 도입

### 우선순위 2: 오행 보정 추가
- 합화 보정 (CombinationElement - 이미 구현)
- 조후 보정 (계절별 오행 영향)
- 궁성 보정 (지지 중요도 가중)

### 우선순위 3: 12운성 통합
- lifecycle_stages.json 정책 활용
- TwelveStageCalculator 구현
- AnalysisEngine 통합

### 우선순위 4: 강약 등급 검증
- 15점이 "신약" vs "극신약" 확인
- StrengthEvaluator 버킷 로직 점검

---

**보고서 작성:** Claude Code
**날짜:** 2025-10-11 KST
**테스트 케이스:** 1963-12-13 20:30 Seoul (남자)
